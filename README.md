# SMU-embedded-system project

## 1주차 팀 활동 보고서

### 팀 소개
- 팀명 : 미정 (주제가 선정되면 정하겠습니다.)
-팀원 : 201821024 강정연, 201821069 이예림, 201821074 이채 린, 201821077 임 진선,  김현승

 -역할 분담 : 이채 린-깃 허브 작성, 합침-대본, 임 진선-녹음, 이예림-영상으로
- 팀 규칙 : 프로젝트 관련 연락 자주 보기, 꾸준히 공부하고 자료 찾아보기, 팀에게 피해주지 않기 위해 책임감 있게 행동하기n

### 자료조사
* 1차 회의 : 평소 생활 속에서의 니즈를 찾으려고 노력함 -> 전세계가 재난상황에 처한 이후 집에 있는 시간이 많아짐에 따라, 집 안에서의 불편함을 해소할 수 있는 아이디어를 생각함.
따라서 홈케어 기반 임베디드 시스템에 대한 자료조사 시작


[라즈베리파이를 이용한 스마트홈 및 원격관리 어플리케이션](https://1d1cblog.tistory.com/m/45)

[와이프를 위한 스마트홈 만들기, 매직미러!](https://youtu.be/0h0ULAXlm7w)

[라즈베리파이IoT 딥러닝 Computer Vision프로젝트](https://www.youtube.com/watch?v=6oBZPW8spgA)

[라즈베리파이를 이용한 홈케어디바디스 '우렁케어'](https://github.com/wjrmffldrhrl/UleungCare)

#### 구상도

<img src="https://user-images.githubusercontent.com/62593236/92331952-1b8a0b80-f0b5-11ea-8da9-a95e5b7da5ed.png" width="90%"></img>

* 문제점 : 홈케어와 하드웨어를 접목시키는 것이 어려움. 무인자동차를 기반으로 한 자동화 로봇을 통해 집 안의 상태를 확인하고, 앱으로 데이터를 전달하여 사람에게 알려주면 
앱을 통해 집안의 사물을 제어할 수 있도록(에어컨키기, 제습기키기, 조명키기 등)하려했으나,  앱을 통해 사물을 제어하는 기술의 성공가능성에 대한 의문점을 갖게 됨. 또, 로봇의 필요성에 대한 의문점이 생김( 집안의 상태를 알려준 뒤, 그 다음의 액션이 딱히 떠오르지않음). 홈케어와 하드웨어의 접목 외에 다른 아이디어를 생각해보기로하여 2차 회의 시작.


* 2차 회의 : 코로나 상황이 심각해짐에 따라 이 생활 속의 니즈가 떠오름. 아직 마스크를 필수로 챙겨야 하는 생활이 익숙치 않기 때문에
나이가 드신 분들을 포함한 많은 사람들이 마스크를 두고 나가 밖에서 급하게 새 마스크를 사는 일이 빈번하게 발생함.
이제 코로나는 빠른시일내에 사라지기 어려운 상황으로 보여짐으로 생활 속에서의 대처가 자연스러워짐.

#### 구상도 

<img src="https://user-images.githubusercontent.com/62593236/92330566-d6f97280-f0aa-11ea-99cc-64b3d537cc5f.png" width="90%"></img>

신발장 벽에 부착된 대시보드디바이스와 마스크 살균기 박스, 손소독제로 구성되어 있음.
외출 시 열감지 센서에 사람이 인식되면 대시보드에서 '마스크를 착용하세요'라는 멘트가 나오도록 설정하고, 
똑같이 집에 들어오는 것이 인식되면 대시보드에서 '소독제를 사용한 후 마스크를 살균기에 넣으세요'라는 멘트가 나오도록 설정할 것임.
대시보드에는 이 외에도 수동으로 살균기가 작동하도록 버튼이 제작돼있고, 코로나 관련 소식을 담아놓도록 제작할 것임.
(위는 초기 구상도이며, 기능을 더 추가하고 구체화 할 것임. 좀 더 시간을 들이면 더 나은 아이디어가 나올 것으로 예상됨.)

* 문제점 : 취지나 아이디어는 좋으나 프로젝트의 난이도가 쉬운 것 같음. 좀 더 난이도 있게 하고싶은 아쉬움이 남음.

기타 아이디어 : 미리 앱으로 등록한 내 커피 레시피를 얼굴인식을 통해 취향에 맞는 커피를 제조해주는 기계 (가정, 직장 등등에서 사용가능)

### 주제선정
후보
1. 홈케어 디바이스
2. 얼굴인식 기반 커피머신
3. 코로나 깜빡이 디바이스
(교수님의 조언이 필요합니다.)

### 회의과정

회의는 디스코드 프로그램 사용.

<img src="https://user-images.githubusercontent.com/62593236/92319405-bb627d80-f052-11ea-8499-92e8e4e24914.png" width="90%"></img>


## 2주차 팀 활동 보고서
-역할 분담 : 이채린 – 대본 작성, 이예림 – 자료조사 및 깃 허브 작성, 임진선 – 발표 영상 녹음, 김현승 – 자료조사 및 깃 허브 작성, 강정연 – 자료조사 및 깃 허브 작성 .

### 주제 선정
1주차에서 나온 얼굴인식 기반 커피머신 아이디어에서 기술적인 어려움과 구체적인 아이디어 구상에서 어려움을 겪어 이와 비슷한 새로운 아이디어 구상.

1번째 주제 : 1차 회의에서는 딥러닝을 기반으로 한 카메라로 사람 얼굴을 인식해 표정과 감정을 데이터로 받아들여 라즈베리파이로 데이터를 각각 분석해 그에 맞는 음료를 추천 및 뽑아주는 임베디드 시스템 설계. 음료 제작 기계는 아두이노를 사용해서 제작

구상도 

<img src="https://user-images.githubusercontent.com/70967826/93000087-e1ab8000-f560-11ea-87fd-2e28bfa5ca1a.png" width=70%></img>

### 자료 조사 

[파이썬 강좌 – 딥러닝으로 표정 인식하기](https://m.blog.naver.com/roboholic84/221633210887)

[얼굴 표정인식을 통한 사용자 감정 케어](https://ausome.tistory.com/6)

[라즈베리파이를 이용한 칵테일 제조기 알콜램프](https://youtu.be/WO7iVxId79U)

[라즈베리파이를 이용한 칵테일 제조기 알콜램프](http://eswcontest.or.kr/bbs/download.php?tbl=award&no=1411)

### 문제점
카메라로 사람 얼굴을 인식한 뒤 딥러닝을 통한 표정 인식 과정에서 다양한 표정을 성공적으로 데이터화 하는 기술의 성공가능성에 대한 의문점을 가짐. 

2번째 주제 : 라즈베리파이를 이용해 취향과 기호에 맞게 음료를 제조할 수 있는 기계와 그 기계를 직접 제어할 수 있는 어플리케이션 제작. 추가로 단순 음료 제조뿐만 아니라 원하는 레시피를 직접 입력하는 기능이나 원하는 시간에 맞춰 음료를 제조할 수 있는 예약 기능 등과 같은 기능 추가

구상도 

<img src="https://user-images.githubusercontent.com/70967826/93000083-dd7f6280-f560-11ea-96bb-edbb70e09a47.png" width=70%></img>
<img src="https://user-images.githubusercontent.com/70967826/93000085-e112e980-f560-11ea-874e-89cb617a038d.png" width=70%></img>
<img src="https://user-images.githubusercontent.com/70967826/93000086-e112e980-f560-11ea-921c-80cf74452647.png" width=70%></img>

### 자료 조사 

[라즈베리파이와 어플을 이용한 임베디드 시리얼 제조기](https://www.youtube.com/watch?v=iAL7O1oMXZU&feature=youtu.be)

[라즈베리파이 서브모터 음료 디스펜서](https://www.youtube.com/watch?v=Va_HRMmJt-g)

[Rasberry Pi Smart Bartender](https://youtu.be/2DopvpNF7J4)

[라즈베리파이 컨트롤러 자동 드링크 바텐더 분배](https://ko.howtodogood.com/49472-Raspberry-pi-Controller-Automatic-Drink-Dispensing-66)

[Make your own crude Cocktail Machine](https://www.youtube.com/watch?v=Z7GkGeZrb2Y)

[Cocktails based on your mood created by a Raspberry Pi bartender](https://www.youtube.com/watch?v=8q_5STFzJ6c)

문제점 : 부족한 기능 구성. 그러므로 복잡하고 높은 수준의 난이도에 맞는 추가적인 아이디어 구상이 필요함


### 회의 과정

회의는 디스 코드 프로그램 사용


## 3주차 팀 활동 보고서

- 역할분담 : 이채린,이예림 - 깃허브 작성, 강정연 - 대본작성, 임진선 - 녹음 및 영상제작

- 회의내용 

 2주차 회의에서 나왔던 2개의 주제와 2주차 보고서에 대한 교수님의 피드백을 바탕으로 최종 작품회의를 진행하였습니다.
 회의 중 ① 딥 러닝과 어플 또는 모니터를 만드는 계획과 ② 어플과 라즈베리 파이를 사용하여 기계를 만드는 계획 인 주제가 나 왔습니다. 
주제들의 기능성 이랑 난이도 체계를 고려해 주제를 선정 하여 아래와 같은 계획으로 진행할 예정입니다.

 카메라로 표정을 인식하는 딥 러닝 기술을 표정 정보를 받아옴. 
받아온 정보를 직접 제작한 어플에 전송함.
 1. 딥러닝을 통해 받아온 표정인식 정보
 2. 나이
 3. 성별
 4. 현재 날씨 등등
 표정인식 정보외에 위와같은 정보를 사용자로부터 받아 어플에 저장한 뒤, 데이터 통계를 통해 음료를 추천해준다.
 추천해준 음료를 기계가 라즈베리파이를 사용하여 만든 기계로 제조해준다.
 
 ### 전체 흐름도 예시
 
 어플에 있는 두 가지 선택지 중 자신이 원하는 기능을 선택한다.
 
 만약 내가 내 레시피에 따른 음료를 만들고싶다면, choosing a recipe 를 누르고 2주차 보고서에 있는 구상도에 맞춰 진행하면 된다.
 
 <img src="https://user-images.githubusercontent.com/62593236/93715219-0c21bc80-fba3-11ea-9674-30b6f742edd9.png" width="30%"></img>
 
 만약 추천음료를 받고싶다면 recommend drinks를 누르고 기계에 부착된 카메라에 얼굴을 갖다댄다. 
 
 <img src="https://user-images.githubusercontent.com/62593236/93715301-763a6180-fba3-11ea-8b15-086fc508d50f.png" width="40%"></img>
 
 얼굴이 인식되어 표정분석 결과가 어플에 띄워지면 설문을 진행하고 save를 누르면 추천음료가 나온다.
 
 <img src="https://user-images.githubusercontent.com/62593236/93715374-d7facb80-fba3-11ea-8978-95c7e3c77a20.png" width="70%"></img>

 ### 역할 분담 및 계획

- 역할 분담 : 딥러닝 - 강정연, 김현승  /  기계제조 - 이예림, 임진선  /  어플 - 이채린

1. 딥러닝 : 라즈베리파이와 카메라를 연결해 사용자의 얼굴을 데이터로 받아들이는 것을 할 계획입니다.
2. 기계제작 : 라즈베리파이를 사용해 음료를 제조할 수 있는 기계를 만들 계획입니다.
3. 어플 : 전체적인 어플 틀을 만들어 딥러닝 정보를 가져올 수 있게 만들 계획입니다.

 

### 회의 과정
회의는 디스코드 프로그램 사용

# 4주차 팀 활동 보고서

## 이번 주 활동 내용
### 딥러닝

1.라즈베리파이 설치
sd카드에 https://www.raspberrypi.org/downloads/ 링크에서 다운받은 라즈베리파이os 설치
sd카드를 라즈베리파이3 모델에 꽂아준 뒤 라즈베리파이와 컴퓨터용 모니터를 hdmi로 연결

2.라즈베리파이 웹캠 연결

<img src="https://user-images.githubusercontent.com/70967826/94369747-911e5000-0126-11eb-821b-10bd56809e44.png" width=50%></img>

라즈베리파이 웹캠을 usb로 연결 후 fswebcam명령어를 이용해 사진촬영 동작 코드 작성

<img src="https://user-images.githubusercontent.com/70967826/94369771-b612c300-0126-11eb-991f-875450fd06e4.png" width=50%></img>

라즈베리파이와 웹캠을 위 와 같은 명령어로 촬영한 사진

3.opencv 설치

실시간 동영상 촬영과 촬영 하는 동시에 얼굴을 인식하기 위한 opencv 프로그램 설치

http://makeshare.org/bbs/board.php?bo_table=raspberrypi&wr_id=92

위 링크에 나온 내용을 토대로 opencv설치

<img src="https://user-images.githubusercontent.com/70967826/94369779-c034c180-0126-11eb-99f2-0e8f9701e06e.png" width=50%></img>

opencv가 정상적으로 설치됬는지 확인

### 기계 제조

기계 제작에 필요한 재료들을 생각해본 후 교수님께 재료들을 어떤 방법으로 구매할 수 있는지 피드백을 구함

### 어플

앱 로딩화면이 2초 나타난 후 메인페이지 화면으로 이동

<img src="https://user-images.githubusercontent.com/70967826/94380278-e03ca300-016f-11eb-8733-66ea4765b4de.png" width=30%></img>

구상도대로 음료 추천받기와 직접 제조하기 버튼을 만들어 사용자에게 선택할 수 있게 함 firebase와 app을 연동시켜놓았음.

<img src="https://user-images.githubusercontent.com/70967826/94380288-eaf73800-016f-11eb-85e0-3bec4d86b568.png" width=30%></img>


## 다음 주 활동 계획
### 딥러닝
라즈베리파이와 opencv 프로그램을 이용해 동영상 촬영 및 얼굴인식 기능 구현
### 기계 제조
기계제작팀은 여태까지 회의했던 내용을 토대로 구상도를 구상해 그려보고, 기계제작에 필요한 재료와 부품들을 찾아본 후 다음 회의를 통해 구체적인 구상도를 구상한 후 제작에 필요한 재료와 부품들을 찾아 목록을 만들어 교수님께 제출할 계획입니다.
### 어플
설문조사 폼 구성 및 안드로이드와 파이어베이스 연결하여 데이터 저장

## 회의 과정
회의는 디스코드 프로그램 사용
